import{q as R,ac as S,u as s,a as V,k as E,H as g,r as F,R as l,S as n,$ as I,Z as P,ad as j,I as N,_ as T}from"./vue.78b138a2.js";import{s as b}from"./init.89db40ad.js";import{s as H,w as K,am as L,an as M,g as O}from"./index.a49a4610.js";const Q={id:"awallpaper"},U=["src"],Z=R({__name:"awallpaper.ce",setup(q){S(a=>({"93fb4315-_masks":s(x)}));const t=H(),h=K(),{festivalBackground:c}=b(h),{backgroundImg:d,backgroundKey:u,backgroundVideo:p,backgroundPrior:f,imgMasks:y,scheme_id:m}=b(t),e=V({_img:"",_video:"",_prior:!1,_masks:""}),{_img:w,_masks:x,_video:z,_prior:B}=E(e);g(()=>{e._img=c.value||d.value,e._video=p.value,e._prior=f.value,e._masks=(c.value||(f.value?d.value:p.value)?y.value:0)+"%"});let _="";function C(a){let r=u.value;if(!r)return!1;let i=r.split("-");if(i.length!=2)return!1;L("local_"+i[0]+t.getSchemePrefix,"wallpaper").then(o=>{if(!o)return!1;o.data.forEach(k=>{i[1]===k.id&&(_=M(k.file),a&&a())})}).catch(o=>{console.log(o)})}const v=F("");return g(()=>{v.value!=m.value&&(v.value=m.value,C(function(){t.setBackgroundImg(_,u.value)}))}),(a,r)=>(l(),n("div",Q,[I(N,{name:"slide",mode:"out-in"},{default:P(()=>[s(B)?(l(),n("div",{key:0,class:"wallpaper keyframesload",style:j({background:"url("+s(w)+")",backgroundPosition:"center",backgroundSize:"cover"})},null,4)):(l(),n("video",{key:1,class:"video keyframesload",style:{width:"100%",height:"100%"},autoplay:"",loop:"",muted:"",src:s(z)},null,8,U))]),_:1}),T(' <div class="backgroundcolor"></div> ')]))}}),$=`#awallpaper{position:fixed;min-height:100%;height:100%;inset:0}.wallpaper,.video,.masks,.backgroundcolor{position:absolute;inset:0;z-index:-1;object-fit:cover;height:100%;transition:all .48s ease-in}.backgroundcolor{background-color:#fff}#awallpaper:after{z-index:0;position:absolute;inset:0;margin:auto;content:"";background-color:rgba(0,0,0,var(--93fb4315-_masks))}.keyframesload{animation:keyframesload .8s cubic-bezier(.19,1,.22,1) 1}@keyframes keyframesload{0%{opacity:0}to{opacity:1}}.slide-enter-to,.slide-leave-from{opacity:1}.slide-enter-from,.slide-leave-to{opacity:0}.slide-enter-active,.slide-leave-active{transition:all .28s ease}
`,J=O(Z,[["styles",[$]],["__file","F:/wwwroot/ayuanzy/vue-app/src/components/awallpaper.ce.vue"]]);export{J as default};
