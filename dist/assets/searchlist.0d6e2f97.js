import{r as W,w as xe,a as Ee,x as on,y as rn,v as an,q as B,A as m,i as Z,f as E,G as te,I as sn,K as Fe,F as ie,d as q,R as H,S as J,U as Y,k as $e,ab as Te,$ as L,Z as $,aa as ue,u as T,l as oe,_ as be,H as ln,z as dn,Y as un,b as Pe,a6 as cn,a7 as fn}from"./vue.78b138a2.js";import{bm as pn,aB as ae,aA as se,$ as ke,B as ze,b3 as le,at as ce,N as je,bn as hn,C as vn,A as yn,b2 as mn,c as M,bo as gn,D as ne,a7 as Ce,a as U,r as V,L as bn,b as wn,u as Be,bp as _n,R as ve,m as ee,d as xn,b5 as kn,bq as Sn,f as Me,g as Ge,s as Nn}from"./index.a49a4610.js";import{q as Pn,_ as Cn}from"./queryNeedData.80e9e1d5.js";import{t as Ke}from"./localRequestFile.11b20013.js";import{_ as qe}from"./Tag.616049f1.js";import{r as Kn,_ as An,p as Ue}from"./Popover.62fea1d1.js";import{b as Rn,a as In,V as Ln}from"./Follower.75107c8b.js";import{_ as On}from"./Space.cf1084ce.js";import{_ as Dn}from"./Input.276eb8b0.js";import"./init.89db40ad.js";import"./use-compitable.f5e6d299.js";import"./cssr.4e262cfb.js";import"./use-locale.d750d564.js";import"./Eye.b0b6abaa.js";function Ae(e,n){let{target:t}=e;for(;t;){if(t.dataset&&t.dataset[n]!==void 0)return!0;t=t.parentElement}return!1}function En(e){return n=>{n?e.value=n.$el:e.value=null}}function Fn(e,n,t){if(!n)return e;const r=W(e.value);let o=null;return xe(e,i=>{o!==null&&window.clearTimeout(o),i===!0?t&&!t.value?r.value=!0:o=window.setTimeout(()=>{r.value=!0},n):r.value=!1}),r}function $n(e={},n){const t=Ee({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:r,keyup:o}=e,i=s=>{switch(s.key){case"Control":t.ctrl=!0;break;case"Meta":t.command=!0,t.win=!0;break;case"Shift":t.shift=!0;break;case"Tab":t.tab=!0;break}r!==void 0&&Object.keys(r).forEach(d=>{if(d!==s.key)return;const c=r[d];if(typeof c=="function")c(s);else{const{stop:u=!1,prevent:b=!1}=c;u&&s.stopPropagation(),b&&s.preventDefault(),c.handler(s)}})},a=s=>{switch(s.key){case"Control":t.ctrl=!1;break;case"Meta":t.command=!1,t.win=!1;break;case"Shift":t.shift=!1;break;case"Tab":t.tab=!1;break}o!==void 0&&Object.keys(o).forEach(d=>{if(d!==s.key)return;const c=o[d];if(typeof c=="function")c(s);else{const{stop:u=!1,prevent:b=!1}=c;u&&s.stopPropagation(),b&&s.preventDefault(),c.handler(s)}})},l=()=>{(n===void 0||n.value)&&(se("keydown",document,i),se("keyup",document,a)),n!==void 0&&xe(n,s=>{s?(se("keydown",document,i),se("keyup",document,a)):(ae("keydown",document,i),ae("keyup",document,a))})};return pn()?(on(l),rn(()=>{(n===void 0||n.value)&&(ae("keydown",document,i),ae("keyup",document,a))})):l(),an(t)}const Tn=B({name:"ChevronRight",render(){return m("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"}))}});function Re(e){return Array.isArray(e)?e:[e]}const we={STOP:"STOP"};function He(e,n){const t=n(e);e.children!==void 0&&t!==we.STOP&&e.children.forEach(r=>He(r,n))}function zn(e,n={}){const{preserveGroup:t=!1}=n,r=[],o=t?a=>{a.isLeaf||(r.push(a.key),i(a.children))}:a=>{a.isLeaf||(a.isGroup||r.push(a.key),i(a.children))};function i(a){a.forEach(o)}return i(e),r}function jn(e,n){const{isLeaf:t}=e;return t!==void 0?t:!n(e)}function Bn(e){return e.children}function Mn(e){return e.key}function Gn(){return!1}function qn(e,n){const{isLeaf:t}=e;return!(t===!1&&!Array.isArray(n(e)))}function Un(e){return e.disabled===!0}function Hn(e,n){return e.isLeaf===!1&&!Array.isArray(n(e))}function Vn(e,n){if(e.isLeaf===!0){const t=n(e);if(Array.isArray(t)&&t.length>0)return!0}return!1}function ye(e){var n;return e==null?[]:Array.isArray(e)?e:(n=e.checkedKeys)!==null&&n!==void 0?n:[]}function me(e){var n;return e==null||Array.isArray(e)?[]:(n=e.indeterminateKeys)!==null&&n!==void 0?n:[]}function Wn(e,n){const t=new Set(e);return n.forEach(r=>{t.has(r)||t.add(r)}),Array.from(t)}function Zn(e,n){const t=new Set(e);return n.forEach(r=>{t.has(r)&&t.delete(r)}),Array.from(t)}function Jn(e){return(e==null?void 0:e.type)==="group"}class Yn extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function Xn(e,n,t,r){return fe(n.concat(e),t,r,!1)}function Qn(e,n){const t=new Set;return e.forEach(r=>{const o=n.treeNodeMap.get(r);if(o!==void 0){let i=o.parent;for(;i!==null&&!(i.disabled||t.has(i.key));)t.add(i.key),i=i.parent}}),t}function et(e,n,t,r){const o=fe(n,t,r,!1),i=fe(e,t,r,!0),a=Qn(e,t),l=[];return o.forEach(s=>{(i.has(s)||a.has(s))&&l.push(s)}),l.forEach(s=>o.delete(s)),o}function ge(e,n){const{checkedKeys:t,keysToCheck:r,keysToUncheck:o,indeterminateKeys:i,cascade:a,leafOnly:l,checkStrategy:s,allowNotLoaded:d}=e;if(!a)return r!==void 0?{checkedKeys:Wn(t,r),indeterminateKeys:Array.from(i)}:o!==void 0?{checkedKeys:Zn(t,o),indeterminateKeys:Array.from(i)}:{checkedKeys:Array.from(t),indeterminateKeys:Array.from(i)};const{levelTreeNodeMap:c}=n;let u;o!==void 0?u=et(o,t,n,d):r!==void 0?u=Xn(r,t,n,d):u=fe(t,n,d,!1);const b=s==="parent",S=s==="child"||l,w=u,O=new Set,p=Math.max.apply(null,Array.from(c.keys()));for(let v=p;v>=0;v-=1){const P=v===0,I=c.get(v);for(const f of I){if(f.isLeaf)continue;const{key:h,shallowLoaded:C}=f;if(S&&C&&f.children.forEach(N=>{!N.disabled&&!N.isLeaf&&N.shallowLoaded&&w.has(N.key)&&w.delete(N.key)}),f.disabled||!C)continue;let F=!0,D=!1,_=!0;for(const N of f.children){const j=N.key;if(!N.disabled){if(_&&(_=!1),w.has(j))D=!0;else if(O.has(j)){D=!0,F=!1;break}else if(F=!1,D)break}}F&&!_?(b&&f.children.forEach(N=>{!N.disabled&&w.has(N.key)&&w.delete(N.key)}),w.add(h)):D&&O.add(h),P&&S&&w.has(h)&&w.delete(h)}}return{checkedKeys:Array.from(w),indeterminateKeys:Array.from(O)}}function fe(e,n,t,r){const{treeNodeMap:o,getChildren:i}=n,a=new Set,l=new Set(e);return e.forEach(s=>{const d=o.get(s);d!==void 0&&He(d,c=>{if(c.disabled)return we.STOP;const{key:u}=c;if(!a.has(u)&&(a.add(u),l.add(u),Hn(c.rawNode,i))){if(r)return we.STOP;if(!t)throw new Yn}})}),l}function nt(e,{includeGroup:n=!1,includeSelf:t=!0},r){var o;const i=r.treeNodeMap;let a=e==null?null:(o=i.get(e))!==null&&o!==void 0?o:null;const l={keyPath:[],treeNodePath:[],treeNode:a};if(a!=null&&a.ignored)return l.treeNode=null,l;for(;a;)!a.ignored&&(n||!a.isGroup)&&l.treeNodePath.push(a),a=a.parent;return l.treeNodePath.reverse(),t||l.treeNodePath.pop(),l.keyPath=l.treeNodePath.map(s=>s.key),l}function tt(e){if(e.length===0)return null;const n=e[0];return n.isGroup||n.ignored||n.disabled?n.getNext():n}function ot(e,n){const t=e.siblings,r=t.length,{index:o}=e;return n?t[(o+1)%r]:o===t.length-1?null:t[o+1]}function Ie(e,n,{loop:t=!1,includeDisabled:r=!1}={}){const o=n==="prev"?rt:ot,i={reverse:n==="prev"};let a=!1,l=null;function s(d){if(d!==null){if(d===e){if(!a)a=!0;else if(!e.disabled&&!e.isGroup){l=e;return}}else if((!d.disabled||r)&&!d.ignored&&!d.isGroup){l=d;return}if(d.isGroup){const c=Se(d,i);c!==null?l=c:s(o(d,t))}else{const c=o(d,!1);if(c!==null)s(c);else{const u=it(d);u!=null&&u.isGroup?s(o(u,t)):t&&s(o(d,!0))}}}}return s(e),l}function rt(e,n){const t=e.siblings,r=t.length,{index:o}=e;return n?t[(o-1+r)%r]:o===0?null:t[o-1]}function it(e){return e.parent}function Se(e,n={}){const{reverse:t=!1}=n,{children:r}=e;if(r){const{length:o}=r,i=t?o-1:0,a=t?-1:o,l=t?-1:1;for(let s=i;s!==a;s+=l){const d=r[s];if(!d.disabled&&!d.ignored)if(d.isGroup){const c=Se(d,n);if(c!==null)return c}else return d}}return null}const at={getChild(){return this.ignored?null:Se(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return Ie(this,"next",e)},getPrev(e={}){return Ie(this,"prev",e)}};function st(e,n){const t=n?new Set(n):void 0,r=[];function o(i){i.forEach(a=>{r.push(a),!(a.isLeaf||!a.children||a.ignored)&&(a.isGroup||t===void 0||t.has(a.key))&&o(a.children)})}return o(e),r}function lt(e,n){const t=e.key;for(;n;){if(n.key===t)return!0;n=n.parent}return!1}function Ve(e,n,t,r,o,i=null,a=0){const l=[];return e.forEach((s,d)=>{var c;Vn(s,o)&&console.error("[treemate]: node",s,"is invalid");const u=Object.create(r);if(u.rawNode=s,u.siblings=l,u.level=a,u.index=d,u.isFirstChild=d===0,u.isLastChild=d+1===e.length,u.parent=i,!u.ignored){const b=o(s);Array.isArray(b)&&(u.children=Ve(b,n,t,r,o,u,a+1))}l.push(u),n.set(u.key,u),t.has(a)||t.set(a,[]),(c=t.get(a))===null||c===void 0||c.push(u)}),l}function dt(e,n={}){var t;const r=new Map,o=new Map,{getDisabled:i=Un,getIgnored:a=Gn,getIsGroup:l=Jn,getKey:s=Mn}=n,d=(t=n.getChildren)!==null&&t!==void 0?t:Bn,c=n.ignoreEmptyChildren?f=>{const h=d(f);return Array.isArray(h)?h.length?h:null:h}:d,u=Object.assign({get key(){return s(this.rawNode)},get disabled(){return i(this.rawNode)},get isGroup(){return l(this.rawNode)},get isLeaf(){return jn(this.rawNode,c)},get shallowLoaded(){return qn(this.rawNode,c)},get ignored(){return a(this.rawNode)},contains(f){return lt(this,f)}},at),b=Ve(e,r,o,u,c);function S(f){if(f==null)return null;const h=r.get(f);return h&&!h.isGroup&&!h.ignored?h:null}function w(f){if(f==null)return null;const h=r.get(f);return h&&!h.ignored?h:null}function O(f,h){const C=w(f);return C?C.getPrev(h):null}function p(f,h){const C=w(f);return C?C.getNext(h):null}function v(f){const h=w(f);return h?h.getParent():null}function P(f){const h=w(f);return h?h.getChild():null}const I={treeNodes:b,treeNodeMap:r,levelTreeNodeMap:o,maxLevel:Math.max(...o.keys()),getChildren:c,getFlattenedNodes(f){return st(b,f)},getNode:S,getPrev:O,getNext:p,getParent:v,getChild:P,getFirstAvailableNode(){return tt(b)},getPath(f,h={}){return nt(f,h,I)},getCheckedKeys(f,h={}){const{cascade:C=!0,leafOnly:F=!1,checkStrategy:D="all",allowNotLoaded:_=!1}=h;return ge({checkedKeys:ye(f),indeterminateKeys:me(f),cascade:C,leafOnly:F,checkStrategy:D,allowNotLoaded:_},I)},check(f,h,C={}){const{cascade:F=!0,leafOnly:D=!1,checkStrategy:_="all",allowNotLoaded:N=!1}=C;return ge({checkedKeys:ye(h),indeterminateKeys:me(h),keysToCheck:f==null?[]:Re(f),cascade:F,leafOnly:D,checkStrategy:_,allowNotLoaded:N},I)},uncheck(f,h,C={}){const{cascade:F=!0,leafOnly:D=!1,checkStrategy:_="all",allowNotLoaded:N=!1}=C;return ge({checkedKeys:ye(h),indeterminateKeys:me(h),keysToUncheck:f==null?[]:Re(f),cascade:F,leafOnly:D,checkStrategy:_,allowNotLoaded:N},I)},getNonLeafKeys(f={}){return zn(b,f)}};return I}const We=B({name:"DropdownDivider",props:{clsPrefix:{type:String,required:!0}},render(){return m("div",{class:`${this.clsPrefix}-dropdown-divider`})}}),Ne=ke("n-dropdown-menu"),pe=ke("n-dropdown"),Le=ke("n-dropdown-option");function _e(e,n){return e.type==="submenu"||e.type===void 0&&e[n]!==void 0}function ut(e){return e.type==="group"}function Ze(e){return e.type==="divider"}function ct(e){return e.type==="render"}const Je=B({name:"DropdownOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null},placement:{type:String,default:"right-start"},props:Object,scrollable:Boolean},setup(e){const n=Z(pe),{hoverKeyRef:t,keyboardKeyRef:r,lastToggledSubmenuKeyRef:o,pendingKeyPathRef:i,activeKeyPathRef:a,animatedRef:l,mergedShowRef:s,renderLabelRef:d,renderIconRef:c,labelFieldRef:u,childrenFieldRef:b,renderOptionRef:S,nodePropsRef:w,menuPropsRef:O}=n,p=Z(Le,null),v=Z(Ne),P=Z(ze),I=E(()=>e.tmNode.rawNode),f=E(()=>{const{value:g}=b;return _e(e.tmNode.rawNode,g)}),h=E(()=>{const{disabled:g}=e.tmNode;return g}),C=E(()=>{if(!f.value)return!1;const{key:g,disabled:R}=e.tmNode;if(R)return!1;const{value:G}=t,{value:X}=r,{value:he}=o,{value:Q}=i;return G!==null?Q.includes(g):X!==null?Q.includes(g)&&Q[Q.length-1]!==g:he!==null?Q.includes(g):!1}),F=E(()=>r.value===null&&!l.value),D=Fn(C,300,F),_=E(()=>!!(p!=null&&p.enteringSubmenuRef.value)),N=W(!1);te(Le,{enteringSubmenuRef:N});function j(){N.value=!0}function y(){N.value=!1}function A(){const{parentKey:g,tmNode:R}=e;R.disabled||!s.value||(o.value=g,r.value=null,t.value=R.key)}function k(){const{tmNode:g}=e;g.disabled||!s.value||t.value!==g.key&&A()}function x(g){if(e.tmNode.disabled||!s.value)return;const{relatedTarget:R}=g;R&&!Ae({target:R},"dropdownOption")&&!Ae({target:R},"scrollbarRail")&&(t.value=null)}function z(){const{value:g}=f,{tmNode:R}=e;!s.value||!g&&!R.disabled&&(n.doSelect(R.key,R.rawNode),n.doUpdateShow(!1))}return{labelField:u,renderLabel:d,renderIcon:c,siblingHasIcon:v.showIconRef,siblingHasSubmenu:v.hasSubmenuRef,menuProps:O,popoverBody:P,animated:l,mergedShowSubmenu:E(()=>D.value&&!_.value),rawNode:I,hasSubmenu:f,pending:le(()=>{const{value:g}=i,{key:R}=e.tmNode;return g.includes(R)}),childActive:le(()=>{const{value:g}=a,{key:R}=e.tmNode,G=g.findIndex(X=>R===X);return G===-1?!1:G<g.length-1}),active:le(()=>{const{value:g}=a,{key:R}=e.tmNode,G=g.findIndex(X=>R===X);return G===-1?!1:G===g.length-1}),mergedDisabled:h,renderOption:S,nodeProps:w,handleClick:z,handleMouseMove:k,handleMouseEnter:A,handleMouseLeave:x,handleSubmenuBeforeEnter:j,handleSubmenuAfterEnter:y}},render(){var e,n;const{animated:t,rawNode:r,mergedShowSubmenu:o,clsPrefix:i,siblingHasIcon:a,siblingHasSubmenu:l,renderLabel:s,renderIcon:d,renderOption:c,nodeProps:u,props:b,scrollable:S}=this;let w=null;if(o){const P=(e=this.menuProps)===null||e===void 0?void 0:e.call(this,r,r.children);w=m(Ye,Object.assign({},P,{clsPrefix:i,scrollable:this.scrollable,tmNodes:this.tmNode.children,parentKey:this.tmNode.key}))}const O={class:[`${i}-dropdown-option-body`,this.pending&&`${i}-dropdown-option-body--pending`,this.active&&`${i}-dropdown-option-body--active`,this.childActive&&`${i}-dropdown-option-body--child-active`,this.mergedDisabled&&`${i}-dropdown-option-body--disabled`],onMousemove:this.handleMouseMove,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onClick:this.handleClick},p=u==null?void 0:u(r),v=m("div",Object.assign({class:[`${i}-dropdown-option`,p==null?void 0:p.class],"data-dropdown-option":!0},p),m("div",Fe(O,b),[m("div",{class:[`${i}-dropdown-option-body__prefix`,a&&`${i}-dropdown-option-body__prefix--show-icon`]},[d?d(r):ce(r.icon)]),m("div",{"data-dropdown-option":!0,class:`${i}-dropdown-option-body__label`},s?s(r):ce((n=r[this.labelField])!==null&&n!==void 0?n:r.title)),m("div",{"data-dropdown-option":!0,class:[`${i}-dropdown-option-body__suffix`,l&&`${i}-dropdown-option-body__suffix--has-submenu`]},this.hasSubmenu?m(je,null,{default:()=>m(Tn,null)}):null)]),this.hasSubmenu?m(Rn,null,{default:()=>[m(In,null,{default:()=>m("div",{class:`${i}-dropdown-offset-container`},m(Ln,{show:this.mergedShowSubmenu,placement:this.placement,to:S&&this.popoverBody||void 0,teleportDisabled:!S},{default:()=>m("div",{class:`${i}-dropdown-menu-wrapper`},t?m(sn,{onBeforeEnter:this.handleSubmenuBeforeEnter,onAfterEnter:this.handleSubmenuAfterEnter,name:"fade-in-scale-up-transition",appear:!0},{default:()=>w}):w)}))})]}):null);return c?c({node:v,option:r}):v}}),ft=B({name:"DropdownGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{showIconRef:e,hasSubmenuRef:n}=Z(Ne),{renderLabelRef:t,labelFieldRef:r,nodePropsRef:o,renderOptionRef:i}=Z(pe);return{labelField:r,showIcon:e,hasSubmenu:n,renderLabel:t,nodeProps:o,renderOption:i}},render(){var e;const{clsPrefix:n,hasSubmenu:t,showIcon:r,nodeProps:o,renderLabel:i,renderOption:a}=this,{rawNode:l}=this.tmNode,s=m("div",Object.assign({class:`${n}-dropdown-option`},o==null?void 0:o(l)),m("div",{class:`${n}-dropdown-option-body ${n}-dropdown-option-body--group`},m("div",{"data-dropdown-option":!0,class:[`${n}-dropdown-option-body__prefix`,r&&`${n}-dropdown-option-body__prefix--show-icon`]},ce(l.icon)),m("div",{class:`${n}-dropdown-option-body__label`,"data-dropdown-option":!0},i?i(l):ce((e=l.title)!==null&&e!==void 0?e:l[this.labelField])),m("div",{class:[`${n}-dropdown-option-body__suffix`,t&&`${n}-dropdown-option-body__suffix--has-submenu`],"data-dropdown-option":!0})));return a?a({node:s,option:l}):s}}),pt=B({name:"NDropdownGroup",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null}},render(){const{tmNode:e,parentKey:n,clsPrefix:t}=this,{children:r}=e;return m(ie,null,m(ft,{clsPrefix:t,tmNode:e,key:e.key}),r==null?void 0:r.map(o=>{const{rawNode:i}=o;return i.show===!1?null:Ze(i)?m(We,{clsPrefix:t,key:o.key}):o.isGroup?(hn("dropdown","`group` node is not allowed to be put in `group` node."),null):m(Je,{clsPrefix:t,tmNode:o,parentKey:n,key:o.key})}))}}),ht=B({name:"DropdownRenderOption",props:{tmNode:{type:Object,required:!0}},render(){const{rawNode:{render:e,props:n}}=this.tmNode;return m("div",n,[e==null?void 0:e()])}}),Ye=B({name:"DropdownMenu",props:{scrollable:Boolean,showArrow:Boolean,arrowStyle:[String,Object],clsPrefix:{type:String,required:!0},tmNodes:{type:Array,default:()=>[]},parentKey:{type:[String,Number],default:null}},setup(e){const{renderIconRef:n,childrenFieldRef:t}=Z(pe);te(Ne,{showIconRef:E(()=>{const o=n.value;return e.tmNodes.some(i=>{var a;if(i.isGroup)return(a=i.children)===null||a===void 0?void 0:a.some(({rawNode:s})=>o?o(s):s.icon);const{rawNode:l}=i;return o?o(l):l.icon})}),hasSubmenuRef:E(()=>{const{value:o}=t;return e.tmNodes.some(i=>{var a;if(i.isGroup)return(a=i.children)===null||a===void 0?void 0:a.some(({rawNode:s})=>_e(s,o));const{rawNode:l}=i;return _e(l,o)})})});const r=W(null);return te(vn,null),te(yn,null),te(ze,r),{bodyRef:r}},render(){const{parentKey:e,clsPrefix:n,scrollable:t}=this,r=this.tmNodes.map(o=>{const{rawNode:i}=o;return i.show===!1?null:ct(i)?m(ht,{tmNode:o,key:o.key}):Ze(i)?m(We,{clsPrefix:n,key:o.key}):ut(i)?m(pt,{clsPrefix:n,tmNode:o,parentKey:e,key:o.key}):m(Je,{clsPrefix:n,tmNode:o,parentKey:e,key:o.key,props:i.props,scrollable:t})});return m("div",{class:[`${n}-dropdown-menu`,t&&`${n}-dropdown-menu--scrollable`],ref:"bodyRef"},t?m(mn,{contentClass:`${n}-dropdown-menu__content`},{default:()=>r}):r,this.showArrow?Kn({clsPrefix:n,arrowStyle:this.arrowStyle}):null)}}),vt=M("dropdown-menu",`
 transform-origin: var(--v-transform-origin);
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 position: relative;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
`,[gn(),M("dropdown-option",`
 position: relative;
 `,[ne("a",`
 text-decoration: none;
 color: inherit;
 outline: none;
 `,[ne("&::before",`
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),M("dropdown-option-body",`
 display: flex;
 cursor: pointer;
 position: relative;
 height: var(--n-option-height);
 line-height: var(--n-option-height);
 font-size: var(--n-font-size);
 color: var(--n-option-text-color);
 transition: color .3s var(--n-bezier);
 `,[ne("&::before",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 left: 4px;
 right: 4px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `),Ce("disabled",[U("pending",`
 color: var(--n-option-text-color-hover);
 `,[V("prefix, suffix",`
 color: var(--n-option-text-color-hover);
 `),ne("&::before","background-color: var(--n-option-color-hover);")]),U("active",`
 color: var(--n-option-text-color-active);
 `,[V("prefix, suffix",`
 color: var(--n-option-text-color-active);
 `),ne("&::before","background-color: var(--n-option-color-active);")]),U("child-active",`
 color: var(--n-option-text-color-child-active);
 `,[V("prefix, suffix",`
 color: var(--n-option-text-color-child-active);
 `)])]),U("disabled",`
 cursor: not-allowed;
 opacity: var(--n-option-opacity-disabled);
 `),U("group",`
 font-size: calc(var(--n-font-size) - 1px);
 color: var(--n-group-header-text-color);
 `,[V("prefix",`
 width: calc(var(--n-option-prefix-width) / 2);
 `,[U("show-icon",`
 width: calc(var(--n-option-icon-prefix-width) / 2);
 `)])]),V("prefix",`
 width: var(--n-option-prefix-width);
 display: flex;
 justify-content: center;
 align-items: center;
 color: var(--n-prefix-color);
 transition: color .3s var(--n-bezier);
 z-index: 1;
 `,[U("show-icon",`
 width: var(--n-option-icon-prefix-width);
 `),M("icon",`
 font-size: var(--n-option-icon-size);
 `)]),V("label",`
 white-space: nowrap;
 flex: 1;
 z-index: 1;
 `),V("suffix",`
 box-sizing: border-box;
 flex-grow: 0;
 flex-shrink: 0;
 display: flex;
 justify-content: flex-end;
 align-items: center;
 min-width: var(--n-option-suffix-width);
 padding: 0 8px;
 transition: color .3s var(--n-bezier);
 color: var(--n-suffix-color);
 z-index: 1;
 `,[U("has-submenu",`
 width: var(--n-option-icon-suffix-width);
 `),M("icon",`
 font-size: var(--n-option-icon-size);
 `)]),M("dropdown-menu","pointer-events: all;")]),M("dropdown-offset-container",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: -4px;
 bottom: -4px;
 `)]),M("dropdown-divider",`
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-divider-color);
 height: 1px;
 margin: 4px 0;
 `),M("dropdown-menu-wrapper",`
 transform-origin: var(--v-transform-origin);
 width: fit-content;
 `),ne(">",[M("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),Ce("scrollable",`
 padding: var(--n-padding);
 `),U("scrollable",[V("content",`
 padding: var(--n-padding);
 `)])]),yt={animated:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},size:{type:String,default:"medium"},inverted:Boolean,placement:{type:String,default:"bottom"},onSelect:[Function,Array],options:{type:Array,default:()=>[]},menuProps:Function,showArrow:Boolean,renderLabel:Function,renderIcon:Function,renderOption:Function,nodeProps:Function,labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},value:[String,Number]},mt=Object.keys(Ue),gt=Object.assign(Object.assign(Object.assign({},Ue),yt),Be.props),bt=B({name:"Dropdown",inheritAttrs:!1,props:gt,setup(e){const n=W(!1),t=bn(q(e,"show"),n),r=E(()=>{const{keyField:y,childrenField:A}=e;return dt(e.options,{getKey(k){return k[y]},getDisabled(k){return k.disabled===!0},getIgnored(k){return k.type==="divider"||k.type==="render"},getChildren(k){return k[A]}})}),o=E(()=>r.value.treeNodes),i=W(null),a=W(null),l=W(null),s=E(()=>{var y,A,k;return(k=(A=(y=i.value)!==null&&y!==void 0?y:a.value)!==null&&A!==void 0?A:l.value)!==null&&k!==void 0?k:null}),d=E(()=>r.value.getPath(s.value).keyPath),c=E(()=>r.value.getPath(e.value).keyPath),u=le(()=>e.keyboard&&t.value);$n({keydown:{ArrowUp:{prevent:!0,handler:h},ArrowRight:{prevent:!0,handler:f},ArrowDown:{prevent:!0,handler:C},ArrowLeft:{prevent:!0,handler:I},Enter:{prevent:!0,handler:F},Escape:P}},u);const{mergedClsPrefixRef:b,inlineThemeDisabled:S}=wn(e),w=Be("Dropdown","-dropdown",vt,_n,e,b);te(pe,{labelFieldRef:q(e,"labelField"),childrenFieldRef:q(e,"childrenField"),renderLabelRef:q(e,"renderLabel"),renderIconRef:q(e,"renderIcon"),hoverKeyRef:i,keyboardKeyRef:a,lastToggledSubmenuKeyRef:l,pendingKeyPathRef:d,activeKeyPathRef:c,animatedRef:q(e,"animated"),mergedShowRef:t,nodePropsRef:q(e,"nodeProps"),renderOptionRef:q(e,"renderOption"),menuPropsRef:q(e,"menuProps"),doSelect:O,doUpdateShow:p}),xe(t,y=>{!e.animated&&!y&&v()});function O(y,A){const{onSelect:k}=e;k&&ve(k,y,A)}function p(y){const{"onUpdate:show":A,onUpdateShow:k}=e;A&&ve(A,y),k&&ve(k,y),n.value=y}function v(){i.value=null,a.value=null,l.value=null}function P(){p(!1)}function I(){_("left")}function f(){_("right")}function h(){_("up")}function C(){_("down")}function F(){const y=D();(y==null?void 0:y.isLeaf)&&t.value&&(O(y.key,y.rawNode),p(!1))}function D(){var y;const{value:A}=r,{value:k}=s;return!A||k===null?null:(y=A.getNode(k))!==null&&y!==void 0?y:null}function _(y){const{value:A}=s,{value:{getFirstAvailableNode:k}}=r;let x=null;if(A===null){const z=k();z!==null&&(x=z.key)}else{const z=D();if(z){let g;switch(y){case"down":g=z.getNext();break;case"up":g=z.getPrev();break;case"right":g=z.getChild();break;case"left":g=z.getParent();break}g&&(x=g.key)}}x!==null&&(i.value=null,a.value=x)}const N=E(()=>{const{size:y,inverted:A}=e,{common:{cubicBezierEaseInOut:k},self:x}=w.value,{padding:z,dividerColor:g,borderRadius:R,optionOpacityDisabled:G,[ee("optionIconSuffixWidth",y)]:X,[ee("optionSuffixWidth",y)]:he,[ee("optionIconPrefixWidth",y)]:Q,[ee("optionPrefixWidth",y)]:Qe,[ee("fontSize",y)]:en,[ee("optionHeight",y)]:nn,[ee("optionIconSize",y)]:tn}=x,K={"--n-bezier":k,"--n-font-size":en,"--n-padding":z,"--n-border-radius":R,"--n-option-height":nn,"--n-option-prefix-width":Qe,"--n-option-icon-prefix-width":Q,"--n-option-suffix-width":he,"--n-option-icon-suffix-width":X,"--n-option-icon-size":tn,"--n-divider-color":g,"--n-option-opacity-disabled":G};return A?(K["--n-color"]=x.colorInverted,K["--n-option-color-hover"]=x.optionColorHoverInverted,K["--n-option-color-active"]=x.optionColorActiveInverted,K["--n-option-text-color"]=x.optionTextColorInverted,K["--n-option-text-color-hover"]=x.optionTextColorHoverInverted,K["--n-option-text-color-active"]=x.optionTextColorActiveInverted,K["--n-option-text-color-child-active"]=x.optionTextColorChildActiveInverted,K["--n-prefix-color"]=x.prefixColorInverted,K["--n-suffix-color"]=x.suffixColorInverted,K["--n-group-header-text-color"]=x.groupHeaderTextColorInverted):(K["--n-color"]=x.color,K["--n-option-color-hover"]=x.optionColorHover,K["--n-option-color-active"]=x.optionColorActive,K["--n-option-text-color"]=x.optionTextColor,K["--n-option-text-color-hover"]=x.optionTextColorHover,K["--n-option-text-color-active"]=x.optionTextColorActive,K["--n-option-text-color-child-active"]=x.optionTextColorChildActive,K["--n-prefix-color"]=x.prefixColor,K["--n-suffix-color"]=x.suffixColor,K["--n-group-header-text-color"]=x.groupHeaderTextColor),K}),j=S?xn("dropdown",E(()=>`${e.size[0]}${e.inverted?"i":""}`),N,e):void 0;return{mergedClsPrefix:b,mergedTheme:w,tmNodes:o,mergedShow:t,handleAfterLeave:()=>{!e.animated||v()},doUpdateShow:p,cssVars:S?void 0:N,themeClass:j==null?void 0:j.themeClass,onRender:j==null?void 0:j.onRender}},render(){const e=(r,o,i,a,l)=>{var s;const{mergedClsPrefix:d,menuProps:c}=this;(s=this.onRender)===null||s===void 0||s.call(this);const u=(c==null?void 0:c(void 0,this.tmNodes.map(S=>S.rawNode)))||{},b={ref:En(o),class:[r,`${d}-dropdown`,this.themeClass],clsPrefix:d,tmNodes:this.tmNodes,style:[i,this.cssVars],showArrow:this.showArrow,arrowStyle:this.arrowStyle,scrollable:this.scrollable,onMouseenter:a,onMouseleave:l};return m(Ye,Fe(this.$attrs,b,u))},{mergedTheme:n}=this,t={show:this.mergedShow,theme:n.peers.Popover,themeOverrides:n.peerOverrides.Popover,internalOnAfterLeave:this.handleAfterLeave,internalRenderBody:e,onUpdateShow:this.doUpdateShow,"onUpdate:show":void 0};return m(An,Object.assign({},kn(this.$props,mt),t),{trigger:()=>{var r,o;return(o=(r=this.$slots).default)===null||o===void 0?void 0:o.call(r)}})}}),wt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_t=Y("g",{fill:"none"},[Y("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2zm0 5a.75.75 0 0 0-.743.648l-.007.102v3.5h-3.5a.75.75 0 0 0-.102 1.493l.102.007h3.5v3.5a.75.75 0 0 0 1.493.102l.007-.102v-3.5h3.5a.75.75 0 0 0 .102-1.493l-.102-.007h-3.5v-3.5A.75.75 0 0 0 12 7z",fill:"currentColor"})],-1),xt=[_t],kt=B({name:"AddCircle24Filled",render:function(n,t){return H(),J("svg",wt,xt)}}),re="user";async function Oe(e,n){Sn(e,JSON.parse(JSON.stringify(n)),re)}function de(e,n,t){e[0]==="search"?Oe("search_link_"+e[1]+t,n):e[0]==="video"&&Oe("video_link_"+e[1]+t,n)}function St(e){let n=new Date().getTime();return[{key:"search_default",iid:"search_link_default"+e,iname:re,iexp:n,needrequest:!0,request:[{key:"searchlist.json",urllist:Ke("/json/search/searchlist.json",!1)}]},{key:"search_diy",iid:"search_link_diy"+e,iname:re},{key:"video_default",iid:"video_link_default"+e,iname:re,iexp:n,needrequest:!0,request:[{key:"jiexi.json",urllist:Ke("/json/video/jiexi.json",!1)}]},{key:"video_diy",iid:"video_link_diy"+e,iname:re}]}function Nt(e){return{filter:function(n){if(n.type){if(n.data&&n.data.data.length)return n.data.data}else if(n.data.length)return n.data},data:function(n){let t=n.gkey.split("_");!n.type&&n.needstore&&de(t,n.req,e)}}}function Pt(e){let n=St(e),t=Nt(e);return{...Pn.bundleOptions("searchlistandvideolist",t,n),callback:t,options:n}}const Ct={style:{position:"relative","max-width":"100%"}},Kt={class:"searchlist-box"},At=["title"],Rt={class:"text-box"},It={key:0,style:{position:"absolute",top:"0px",right:"0px",display:"flex",gap:"2px"}},Lt=B({__name:"searchbutton",props:{tag:{type:String,default:""},search_name:{type:String,default:""},typetag:{type:Boolean,default:!1},item:{type:Object,default:{}}},emits:["select-value","delete-value"],setup(e,{emit:n}){const t=e,{search_name:r,item:o,tag:i,typetag:a}=$e(t);function l(d,c,u){n("select-value",d,c,u)}function s(d,c,u,b){n("delete-value",d,c,u,b)}return(d,c)=>{const u=Me,b=qe;return H(!0),J(ie,null,Te(T(o),(S,w)=>(H(),J("div",Ct,[L(u,{strong:"",secondary:"",size:"small",onClick:O=>l(w,T(i),S),title:S.value,type:S.label===T(r)?"info":"default",class:"button-box"},{default:$(()=>[Y("div",Kt,[Y("span",{class:"text-box",title:S.label},ue(S.label),9,At),Y("span",Rt,ue(S.value),1)])]),_:2},1032,["onClick","title","type"]),T(a)?(H(),J("span",It,[L(b,{bordered:!1,type:"info",size:"small"},{default:$(()=>[oe("DIY")]),_:1}),L(b,{bordered:!1,type:"error",size:"small",style:{cursor:"pointer"},onClick:O=>s(w,T(i),S,T(a))},{default:$(()=>[oe("\u5220\u9664")]),_:2},1032,["onClick"])])):be("v-if",!0)]))),256)}}});const De=Ge(Lt,[["__scopeId","data-v-fb9cd37c"],["__file","F:/wwwroot/ayuanzy/vue-app/src/components/search/searchbutton.vue"]]),Xe=e=>(cn("data-v-5c9e12a3"),e=e(),fn(),e),Ot={key:1},Dt={class:"main_box searchlist-box search-input"},Et=Xe(()=>Y("span",null,"\u6635\u79F0",-1)),Ft=Xe(()=>Y("span",null,"\u5730\u5740",-1)),$t=B({__name:"searchlist",setup(e){const n=Z("message"),t=Nn(),r=E(()=>t.getSchemePrefixAndSchemeId),o=Ee({options:[],optionsvalue:null,index:0,tag:"",search_name:"",_item:{value:"",label:""}}),i=W({search:{label:"\u641C\u7D22\u5F15\u64CE",tag:"search",default:[],diy:[]},video:{label:"\u89C6\u9891\u89E3\u6790",tag:"video",default:[],diy:[]}});ln(()=>{o.search_name=t.getSearchName});const{value:a,label:l}=$e(o._item);let s=Pt(r.value);s.callback.data=p=>{console.log(p);let v=p.gkey.split("_");p.type?O(p.idb,v):(O(p.req,v),!p.type&&p.needstore&&de(v,p.req,r.value))};function d(p,v,P){t.setSearchNameAndUrl({name:P.label,url:P.value})}function c(p,v,P){for(const I in i.value)i.value[I].tag===v&&(i.value[I].diy.splice(p,1),de([v,"diy"],i.value[I].diy,r.value))}function u(p,v){for(let P=0;P<p.length;P++)if(v===p[P].label)return!0;return!1}function b(){if(o._item.value&&o._item.label)for(const p in i.value){if(u(i.value[p].default,o._item.label)||u(i.value[p].diy,o._item.label))return n.error("\u5B58\u5728\u76F8\u540C\u6635\u79F0\uFF0C\u5DF2\u53D6\u6D88\u6DFB\u52A0"),!1;if(i.value[p].tag===o.tag)return i.value[p].diy.push(Object.assign({},o._item)),o._item.value="",o._item.label="",de([o.tag,"diy"],i.value[p].diy,r.value),!0}return console.log(s),!1}function S(p){o.options.forEach((v,P)=>{p===v.key&&(o.optionsvalue=o.options[P].label,o.index=P,o.tag=o.options[P].key)})}function w(){Object.values(i.value).forEach(function(p){o.options.push({label:p.label,key:p.tag})}),S(o.options[0].key)}function O(p,v){i.value[v[0]][v[1]]=Object.assign(p,i.value[v[0]][v[1]])}return dn(()=>{w(),s.runOpstions("")}),(p,v)=>{const P=qe,I=On,f=Cn,h=Dn,C=Me,F=bt,D=je;return H(),un(I,{vertical:""},{default:$(()=>[be(" \u5217\u8868 "),(H(!0),J(ie,null,Te(T(i),(_,N)=>(H(),J(ie,{key:N},[_.default.length||_.diy.length?(H(),J(ie,{key:0},[L(P,{bordered:!1,type:"info"},{default:$(()=>[oe(ue(_.label),1)]),_:2},1024),L(I,{justify:"start",style:{gap:"6px"},"wrap-item":!1},{default:$(()=>[L(De,{item:_.default,tag:_.tag,search_name:T(o).search_name,onSelectValue:d},null,8,["item","tag","search_name"]),L(De,{item:_.diy,typetag:!0,search_name:T(o).search_name,tag:_.tag,onSelectValue:d,onDeleteValue:c},null,8,["item","search_name","tag"])]),_:2},1024)],64)):(H(),J("div",Ot,[L(f,{animated:!1,text:"",repeat:1,style:{width:"100px","max-width":"100%"}}),L(I,{justify:"start",style:{gap:"6px"},"wrap-item":!1},{default:$(()=>[L(f,{animated:!1,text:"",repeat:4,style:{"max-width":"100%",width:"40%"}})]),_:1})]))],64))),128)),be(" \u81EA\u5B9A\u4E49\u6DFB\u52A0 "),L(P,{bordered:!1,type:"info"},{default:$(()=>[oe("\u81EA\u5B9A\u4E49\u6DFB\u52A0")]),_:1}),Y("div",Dt,[L(h,{size:"large",class:"search_span search-width",value:T(l),"onUpdate:value":v[0]||(v[0]=_=>Pe(l)?l.value=_:null),clearable:""},{prefix:$(()=>[Et]),_:1},8,["value"]),L(h,{size:"large",class:"search_span search-width",value:T(a),"onUpdate:value":v[1]||(v[1]=_=>Pe(a)?a.value=_:null),clearable:""},{prefix:$(()=>[Ft]),_:1},8,["value"]),L(F,{trigger:"click",options:T(o).options,placement:"top-start",width:"trigger",onSelect:S},{default:$(()=>[L(C,{strong:"",secondary:"",class:"search_span search-width",size:"large"},{default:$(()=>[oe(ue(T(o).optionsvalue),1)]),_:1})]),_:1},8,["options"]),L(C,{onClick:b,type:"info",strong:"",secondary:"",class:"search_span search-width",size:"large"},{icon:$(()=>[L(D,{size:"16"},{default:$(()=>[L(T(kt))]),_:1})]),default:$(()=>[oe(" \u6DFB\u52A0 ")]),_:1})])]),_:1})}}});const Xt=Ge($t,[["__scopeId","data-v-5c9e12a3"],["__file","F:/wwwroot/ayuanzy/vue-app/src/components/search/searchlist.vue"]]);export{Xt as default};
