import{q as qe,r as F,i as ln,H as pe,f as Y,N as dn,y as un,w as fn,d as Q,G as V,A as S,I as cn,K as vn,M as Ze,F as hn,L as pn,l as gn}from"./vue.78b138a2.js";import{aA as ie,aB as se,aC as te,as as ae,aD as wn,aE as mn,aF as Se,aG as yn,aH as L,aq as Qe,aI as $e,aJ as bn,aK as G,aL as Ve,aM as ge,aN as Ee,aO as Sn,aP as Me,aQ as Ce,aR as j,aS as $n,aT as xe,ar as An,aU as _n,aV as On,aW as Tn,aX as Pn,aY as En,aZ as Mn,D,c as B,a7 as le,r as de,a as ee,a_ as Cn,b as xn,u as Ae,a$ as Rn,y as Re,M as ue,d as Bn,b0 as Be,B as In,A as Dn,C as Fn,b1 as Ie,F as Ln,a5 as fe,b2 as zn,J as Nn,L as Hn,b3 as De,b4 as Fe,P as Wn,b5 as Kn,U as J,R as q}from"./index.a49a4610.js";import{u as ne,V as Gn,a as Un,b as kn}from"./Follower.75107c8b.js";import{u as Xn}from"./use-compitable.f5e6d299.js";let ce;function Jn(){return ce===void 0&&(ce=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),ce}const K="@@mmoContext",Yn={mounted(e,{value:n}){e[K]={handler:void 0},typeof n=="function"&&(e[K].handler=n,ie("mousemoveoutside",e,n))},updated(e,{value:n}){const r=e[K];typeof n=="function"?r.handler?r.handler!==n&&(se("mousemoveoutside",e,r.handler),r.handler=n,ie("mousemoveoutside",e,n)):(e[K].handler=n,ie("mousemoveoutside",e,n)):r.handler&&(se("mousemoveoutside",e,r.handler),r.handler=void 0)},unmounted(e){const{handler:n}=e[K];n&&se("mousemoveoutside",e,n),e[K].handler=void 0}},qn=Yn;var Zn=te(ae,"WeakMap");const we=Zn;var Qn=wn(Object.keys,Object);const Vn=Qn;var jn=Object.prototype,er=jn.hasOwnProperty;function nr(e){if(!mn(e))return Vn(e);var n=[];for(var r in Object(e))er.call(e,r)&&r!="constructor"&&n.push(r);return n}function _e(e){return Se(e)?yn(e):nr(e)}var rr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tr=/^\w*$/;function Oe(e,n){if(L(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Qe(e)?!0:tr.test(e)||!rr.test(e)||n!=null&&e in Object(n)}var ar="Expected a function";function Te(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(ar);var r=function(){var t=arguments,o=n?n.apply(this,t):t[0],a=r.cache;if(a.has(o))return a.get(o);var i=e.apply(this,t);return r.cache=a.set(o,i)||a,i};return r.cache=new(Te.Cache||$e),r}Te.Cache=$e;var or=500;function ir(e){var n=Te(e,function(t){return r.size===or&&r.clear(),t}),r=n.cache;return n}var sr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lr=/\\(\\)?/g,dr=ir(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(sr,function(r,t,o,a){n.push(o?a.replace(lr,"$1"):t||r)}),n});const ur=dr;function je(e,n){return L(e)?e:Oe(e,n)?[e]:ur(bn(e))}var fr=1/0;function oe(e){if(typeof e=="string"||Qe(e))return e;var n=e+"";return n=="0"&&1/e==-fr?"-0":n}function en(e,n){n=je(n,e);for(var r=0,t=n.length;e!=null&&r<t;)e=e[oe(n[r++])];return r&&r==t?e:void 0}function cr(e,n,r){var t=e==null?void 0:en(e,n);return t===void 0?r:t}function vr(e,n){for(var r=-1,t=n.length,o=e.length;++r<t;)e[o+r]=n[r];return e}function hr(e,n){for(var r=-1,t=e==null?0:e.length,o=0,a=[];++r<t;){var i=e[r];n(i,r,e)&&(a[o++]=i)}return a}function pr(){return[]}var gr=Object.prototype,wr=gr.propertyIsEnumerable,Le=Object.getOwnPropertySymbols,mr=Le?function(e){return e==null?[]:(e=Object(e),hr(Le(e),function(n){return wr.call(e,n)}))}:pr;const yr=mr;function br(e,n,r){var t=n(e);return L(e)?t:vr(t,r(e))}function ze(e){return br(e,_e,yr)}var Sr=te(ae,"DataView");const me=Sr;var $r=te(ae,"Promise");const ye=$r;var Ar=te(ae,"Set");const be=Ar;var Ne="[object Map]",_r="[object Object]",He="[object Promise]",We="[object Set]",Ke="[object WeakMap]",Ge="[object DataView]",Or=G(me),Tr=G(ge),Pr=G(ye),Er=G(be),Mr=G(we),z=Ve;(me&&z(new me(new ArrayBuffer(1)))!=Ge||ge&&z(new ge)!=Ne||ye&&z(ye.resolve())!=He||be&&z(new be)!=We||we&&z(new we)!=Ke)&&(z=function(e){var n=Ve(e),r=n==_r?e.constructor:void 0,t=r?G(r):"";if(t)switch(t){case Or:return Ge;case Tr:return Ne;case Pr:return He;case Er:return We;case Mr:return Ke}return n});const Ue=z;var Cr="__lodash_hash_undefined__";function xr(e){return this.__data__.set(e,Cr),this}function Rr(e){return this.__data__.has(e)}function re(e){var n=-1,r=e==null?0:e.length;for(this.__data__=new $e;++n<r;)this.add(e[n])}re.prototype.add=re.prototype.push=xr;re.prototype.has=Rr;function Br(e,n){for(var r=-1,t=e==null?0:e.length;++r<t;)if(n(e[r],r,e))return!0;return!1}function Ir(e,n){return e.has(n)}var Dr=1,Fr=2;function nn(e,n,r,t,o,a){var i=r&Dr,s=e.length,l=n.length;if(s!=l&&!(i&&l>s))return!1;var u=a.get(e),c=a.get(n);if(u&&c)return u==n&&c==e;var g=-1,v=!0,y=r&Fr?new re:void 0;for(a.set(e,n),a.set(n,e);++g<s;){var b=e[g],f=n[g];if(t)var P=i?t(f,b,g,n,e,a):t(b,f,g,e,n,a);if(P!==void 0){if(P)continue;v=!1;break}if(y){if(!Br(n,function(A,_){if(!Ir(y,_)&&(b===A||o(b,A,r,t,a)))return y.push(_)})){v=!1;break}}else if(!(b===f||o(b,f,r,t,a))){v=!1;break}}return a.delete(e),a.delete(n),v}function Lr(e){var n=-1,r=Array(e.size);return e.forEach(function(t,o){r[++n]=[o,t]}),r}function zr(e){var n=-1,r=Array(e.size);return e.forEach(function(t){r[++n]=t}),r}var Nr=1,Hr=2,Wr="[object Boolean]",Kr="[object Date]",Gr="[object Error]",Ur="[object Map]",kr="[object Number]",Xr="[object RegExp]",Jr="[object Set]",Yr="[object String]",qr="[object Symbol]",Zr="[object ArrayBuffer]",Qr="[object DataView]",ke=Ee?Ee.prototype:void 0,ve=ke?ke.valueOf:void 0;function Vr(e,n,r,t,o,a,i){switch(r){case Qr:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Zr:return!(e.byteLength!=n.byteLength||!a(new Me(e),new Me(n)));case Wr:case Kr:case kr:return Sn(+e,+n);case Gr:return e.name==n.name&&e.message==n.message;case Xr:case Yr:return e==n+"";case Ur:var s=Lr;case Jr:var l=t&Nr;if(s||(s=zr),e.size!=n.size&&!l)return!1;var u=i.get(e);if(u)return u==n;t|=Hr,i.set(e,n);var c=nn(s(e),s(n),t,o,a,i);return i.delete(e),c;case qr:if(ve)return ve.call(e)==ve.call(n)}return!1}var jr=1,et=Object.prototype,nt=et.hasOwnProperty;function rt(e,n,r,t,o,a){var i=r&jr,s=ze(e),l=s.length,u=ze(n),c=u.length;if(l!=c&&!i)return!1;for(var g=l;g--;){var v=s[g];if(!(i?v in n:nt.call(n,v)))return!1}var y=a.get(e),b=a.get(n);if(y&&b)return y==n&&b==e;var f=!0;a.set(e,n),a.set(n,e);for(var P=i;++g<l;){v=s[g];var A=e[v],_=n[v];if(t)var N=i?t(_,A,v,n,e,a):t(A,_,v,e,n,a);if(!(N===void 0?A===_||o(A,_,r,t,a):N)){f=!1;break}P||(P=v=="constructor")}if(f&&!P){var C=e.constructor,M=n.constructor;C!=M&&"constructor"in e&&"constructor"in n&&!(typeof C=="function"&&C instanceof C&&typeof M=="function"&&M instanceof M)&&(f=!1)}return a.delete(e),a.delete(n),f}var tt=1,Xe="[object Arguments]",Je="[object Array]",Z="[object Object]",at=Object.prototype,Ye=at.hasOwnProperty;function ot(e,n,r,t,o,a){var i=L(e),s=L(n),l=i?Je:Ue(e),u=s?Je:Ue(n);l=l==Xe?Z:l,u=u==Xe?Z:u;var c=l==Z,g=u==Z,v=l==u;if(v&&Ce(e)){if(!Ce(n))return!1;i=!0,c=!1}if(v&&!c)return a||(a=new j),i||$n(e)?nn(e,n,r,t,o,a):Vr(e,n,l,r,t,o,a);if(!(r&tt)){var y=c&&Ye.call(e,"__wrapped__"),b=g&&Ye.call(n,"__wrapped__");if(y||b){var f=y?e.value():e,P=b?n.value():n;return a||(a=new j),o(f,P,r,t,a)}}return v?(a||(a=new j),rt(e,n,r,t,o,a)):!1}function Pe(e,n,r,t,o){return e===n?!0:e==null||n==null||!xe(e)&&!xe(n)?e!==e&&n!==n:ot(e,n,r,t,Pe,o)}var it=1,st=2;function lt(e,n,r,t){var o=r.length,a=o,i=!t;if(e==null)return!a;for(e=Object(e);o--;){var s=r[o];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<a;){s=r[o];var l=s[0],u=e[l],c=s[1];if(i&&s[2]){if(u===void 0&&!(l in e))return!1}else{var g=new j;if(t)var v=t(u,c,l,e,n,g);if(!(v===void 0?Pe(c,u,it|st,t,g):v))return!1}}return!0}function rn(e){return e===e&&!An(e)}function dt(e){for(var n=_e(e),r=n.length;r--;){var t=n[r],o=e[t];n[r]=[t,o,rn(o)]}return n}function tn(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}function ut(e){var n=dt(e);return n.length==1&&n[0][2]?tn(n[0][0],n[0][1]):function(r){return r===e||lt(r,e,n)}}function ft(e,n){return e!=null&&n in Object(e)}function ct(e,n,r){n=je(n,e);for(var t=-1,o=n.length,a=!1;++t<o;){var i=oe(n[t]);if(!(a=e!=null&&r(e,i)))break;e=e[i]}return a||++t!=o?a:(o=e==null?0:e.length,!!o&&_n(o)&&On(i,o)&&(L(e)||Tn(e)))}function vt(e,n){return e!=null&&ct(e,n,ft)}var ht=1,pt=2;function gt(e,n){return Oe(e)&&rn(n)?tn(oe(e),n):function(r){var t=cr(r,e);return t===void 0&&t===n?vt(r,e):Pe(n,t,ht|pt)}}function wt(e){return function(n){return n==null?void 0:n[e]}}function mt(e){return function(n){return en(n,e)}}function yt(e){return Oe(e)?wt(oe(e)):mt(e)}function bt(e){return typeof e=="function"?e:e==null?Pn:typeof e=="object"?L(e)?gt(e[0],e[1]):ut(e):yt(e)}function St(e,n){return e&&En(e,n,_e)}function $t(e,n){return function(r,t){if(r==null)return r;if(!Se(r))return e(r,t);for(var o=r.length,a=n?o:-1,i=Object(r);(n?a--:++a<o)&&t(i[a],a,i)!==!1;);return r}}var At=$t(St);const _t=At;function Ot(e,n){var r=-1,t=Se(e)?Array(e.length):[];return _t(e,function(o,a,i){t[++r]=n(o,a,i)}),t}function Tt(e,n){var r=L(e)?Mn:Ot;return r(e,bt(n))}const he={top:"bottom",bottom:"top",left:"right",right:"left"},m="var(--n-arrow-height) * 1.414",Pt=D([B("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[D(">",[B("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),le("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[le("scrollable",[le("show-header-or-footer","padding: var(--n-padding);")])]),de("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),de("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),ee("scrollable, show-header-or-footer",[de("content",`
 padding: var(--n-padding);
 `)])]),B("popover-shared",`
 transform-origin: inherit;
 `,[B("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[B("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${m});
 height: calc(${m});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),D("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),D("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),D("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),D("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),E("top-start",`
 top: calc(${m} / -2);
 left: calc(${R("top-start")} - var(--v-offset-left));
 `),E("top",`
 top: calc(${m} / -2);
 transform: translateX(calc(${m} / -2)) rotate(45deg);
 left: 50%;
 `),E("top-end",`
 top: calc(${m} / -2);
 right: calc(${R("top-end")} + var(--v-offset-left));
 `),E("bottom-start",`
 bottom: calc(${m} / -2);
 left: calc(${R("bottom-start")} - var(--v-offset-left));
 `),E("bottom",`
 bottom: calc(${m} / -2);
 transform: translateX(calc(${m} / -2)) rotate(45deg);
 left: 50%;
 `),E("bottom-end",`
 bottom: calc(${m} / -2);
 right: calc(${R("bottom-end")} + var(--v-offset-left));
 `),E("left-start",`
 left: calc(${m} / -2);
 top: calc(${R("left-start")} - var(--v-offset-top));
 `),E("left",`
 left: calc(${m} / -2);
 transform: translateY(calc(${m} / -2)) rotate(45deg);
 top: 50%;
 `),E("left-end",`
 left: calc(${m} / -2);
 bottom: calc(${R("left-end")} + var(--v-offset-top));
 `),E("right-start",`
 right: calc(${m} / -2);
 top: calc(${R("right-start")} - var(--v-offset-top));
 `),E("right",`
 right: calc(${m} / -2);
 transform: translateY(calc(${m} / -2)) rotate(45deg);
 top: 50%;
 `),E("right-end",`
 right: calc(${m} / -2);
 bottom: calc(${R("right-end")} + var(--v-offset-top));
 `),...Tt({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,n)=>{const r=["right","left"].includes(n),t=r?"width":"height";return e.map(o=>{const a=o.split("-")[1]==="end",s=`calc((${`var(--v-target-${t}, 0px)`} - ${m}) / 2)`,l=R(o);return D(`[v-placement="${o}"] >`,[B("popover-shared",[ee("center-arrow",[B("popover-arrow",`${n}: calc(max(${s}, ${l}) ${a?"+":"-"} var(--v-offset-${r?"left":"top"}));`)])])])})})]);function R(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function E(e,n){const r=e.split("-")[0],t=["top","bottom"].includes(r)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return D(`[v-placement="${e}"] >`,[B("popover-shared",`
 margin-${he[r]}: var(--n-space);
 `,[ee("show-arrow",`
 margin-${he[r]}: var(--n-space-arrow);
 `),ee("overlap",`
 margin: 0;
 `),Cn("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${r}: 100%;
 ${he[r]}: auto;
 ${t}
 `,[B("popover-arrow",n)])])])}const an=Object.assign(Object.assign({},Ae.props),{to:ne.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number}),Et=({arrowStyle:e,clsPrefix:n})=>S("div",{key:"__popover-arrow__",class:`${n}-popover-arrow-wrapper`},S("div",{class:`${n}-popover-arrow`,style:e})),Mt=qe({name:"PopoverBody",inheritAttrs:!1,props:an,setup(e,{slots:n,attrs:r}){const{namespaceRef:t,mergedClsPrefixRef:o,inlineThemeDisabled:a}=xn(e),i=Ae("Popover","-popover",Pt,Rn,e,o),s=F(null),l=ln("NPopover"),u=F(null),c=F(e.show),g=F(!1);pe(()=>{const{show:h}=e;h&&!Jn()&&!e.internalDeactivateImmediately&&(g.value=!0)});const v=Y(()=>{const{trigger:h,onClickoutside:$}=e,O=[],{positionManuallyRef:{value:p}}=l;return p||(h==="click"&&!$&&O.push([Re,C,void 0,{capture:!0}]),h==="hover"&&O.push([qn,N])),$&&O.push([Re,C,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&g.value)&&O.push([dn,e.show]),O}),y=Y(()=>{const h=e.width==="trigger"?void 0:ue(e.width),$=[];h&&$.push({width:h});const{maxWidth:O,minWidth:p}=e;return O&&$.push({maxWidth:ue(O)}),p&&$.push({maxWidth:ue(p)}),a||$.push(b.value),$}),b=Y(()=>{const{common:{cubicBezierEaseInOut:h,cubicBezierEaseIn:$,cubicBezierEaseOut:O},self:{space:p,spaceArrow:k,padding:X,fontSize:I,textColor:d,dividerColor:w,color:T,boxShadow:H,borderRadius:W,arrowHeight:x,arrowOffset:on,arrowOffsetVertical:sn}}=i.value;return{"--n-box-shadow":H,"--n-bezier":h,"--n-bezier-ease-in":$,"--n-bezier-ease-out":O,"--n-font-size":I,"--n-text-color":d,"--n-color":T,"--n-divider-color":w,"--n-border-radius":W,"--n-arrow-height":x,"--n-arrow-offset":on,"--n-arrow-offset-vertical":sn,"--n-padding":X,"--n-space":p,"--n-space-arrow":k}}),f=a?Bn("popover",void 0,b,e):void 0;l.setBodyInstance({syncPosition:P}),un(()=>{l.setBodyInstance(null)}),fn(Q(e,"show"),h=>{e.animated||(h?c.value=!0:c.value=!1)});function P(){var h;(h=s.value)===null||h===void 0||h.syncPosition()}function A(h){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&l.handleMouseEnter(h)}function _(h){e.trigger==="hover"&&e.keepAliveOnHover&&l.handleMouseLeave(h)}function N(h){e.trigger==="hover"&&!M().contains(Be(h))&&l.handleMouseMoveOutside(h)}function C(h){(e.trigger==="click"&&!M().contains(Be(h))||e.onClickoutside)&&l.handleClickOutside(h)}function M(){return l.getTriggerElement()}V(In,u),V(Dn,null),V(Fn,null);function U(){if(f==null||f.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&g.value))return null;let $;const O=l.internalRenderBodyRef.value,{value:p}=o;if(O)$=O([`${p}-popover-shared`,f==null?void 0:f.themeClass.value,e.overlap&&`${p}-popover-shared--overlap`,e.showArrow&&`${p}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${p}-popover-shared--center-arrow`],u,y.value,A,_);else{const{value:k}=l.extraClassRef,{internalTrapFocus:X}=e,I=!Ie(n.header)||!Ie(n.footer),d=()=>{var w;const T=I?S(hn,null,fe(n.header,x=>x?S("div",{class:`${p}-popover__header`,style:e.headerStyle},x):null),fe(n.default,x=>x?S("div",{class:`${p}-popover__content`,style:e.contentStyle},n):null),fe(n.footer,x=>x?S("div",{class:`${p}-popover__footer`,style:e.footerStyle},x):null)):e.scrollable?(w=n.default)===null||w===void 0?void 0:w.call(n):S("div",{class:`${p}-popover__content`,style:e.contentStyle},n),H=e.scrollable?S(zn,{contentClass:I?void 0:`${p}-popover__content`,contentStyle:I?void 0:e.contentStyle},{default:()=>T}):T,W=e.showArrow?Et({arrowStyle:e.arrowStyle,clsPrefix:p}):null;return[H,W]};$=S("div",vn({class:[`${p}-popover`,`${p}-popover-shared`,f==null?void 0:f.themeClass.value,k.map(w=>`${p}-${w}`),{[`${p}-popover--scrollable`]:e.scrollable,[`${p}-popover--show-header-or-footer`]:I,[`${p}-popover--raw`]:e.raw,[`${p}-popover-shared--overlap`]:e.overlap,[`${p}-popover-shared--show-arrow`]:e.showArrow,[`${p}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:u,style:y.value,onKeydown:l.handleKeydown,onMouseenter:A,onMouseleave:_},r),X?S(Ln,{active:e.show,autoFocus:!0},{default:d}):d())}return Ze($,v.value)}return{displayed:g,namespace:t,isMounted:l.isMountedRef,zIndex:l.zIndexRef,followerRef:s,adjustedTo:ne(e),followerEnabled:c,renderContentNode:U}},render(){return S(Gn,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===ne.tdkey},{default:()=>this.animated?S(cn,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),Ct=Object.keys(an),xt={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function Rt(e,n,r){xt[n].forEach(t=>{e.props?e.props=Object.assign({},e.props):e.props={};const o=e.props[t],a=r[t];o?e.props[t]=(...i)=>{o(...i),a(...i)}:e.props[t]=a})}const Bt=gn("").type,It={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:ne.propTo,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},Dt=Object.assign(Object.assign(Object.assign({},Ae.props),It),{internalOnAfterLeave:Function,internalRenderBody:Function}),Ht=qe({name:"Popover",inheritAttrs:!1,props:Dt,__popover__:!0,setup(e){pe(()=>{e.maxWidth!==void 0&&J("popover","`max-width` is deprecated, please use `style` instead."),e.minWidth!==void 0&&J("popover","`min-width` is deprecated, please use `style` instead."),e.arrow!==void 0&&J("popover","`arrow` is deprecated, please use `showArrow` instead."),e.onHide!==void 0&&J("popover","`on-hide` is deprecated, please use `on-update:show` instead."),e.onShow!==void 0&&J("popover","`on-show` is deprecated, please use `on-update:show` instead.")});const n=Nn(),r=F(null),t=Y(()=>e.show),o=F(e.defaultShow),a=Hn(t,o),i=De(()=>e.disabled?!1:a.value),s=()=>{if(e.disabled)return!0;const{getDisabled:d}=e;return!!(d!=null&&d())},l=()=>s()?!1:a.value,u=Xn(e,["arrow","showArrow"]),c=Y(()=>e.overlap?!1:u.value);let g=null;const v=F(null),y=F(null),b=De(()=>e.x!==void 0&&e.y!==void 0);function f(d){const{"onUpdate:show":w,onUpdateShow:T,onShow:H,onHide:W}=e;o.value=d,w&&q(w,d),T&&q(T,d),d&&H&&q(H,!0),d&&W&&q(W,!1)}function P(){g&&g.syncPosition()}function A(){const{value:d}=v;d&&(window.clearTimeout(d),v.value=null)}function _(){const{value:d}=y;d&&(window.clearTimeout(d),y.value=null)}function N(){const d=s();if(e.trigger==="focus"&&!d){if(l())return;f(!0)}}function C(){const d=s();if(e.trigger==="focus"&&!d){if(!l())return;f(!1)}}function M(){const d=s();if(e.trigger==="hover"&&!d){if(_(),v.value!==null||l())return;const w=()=>{f(!0),v.value=null},{delay:T}=e;T===0?w():v.value=window.setTimeout(w,T)}}function U(){const d=s();if(e.trigger==="hover"&&!d){if(A(),y.value!==null||!l())return;const w=()=>{f(!1),y.value=null},{duration:T}=e;T===0?w():y.value=window.setTimeout(w,T)}}function h(){U()}function $(d){var w;!l()||(e.trigger==="click"&&(A(),_(),f(!1)),(w=e.onClickoutside)===null||w===void 0||w.call(e,d))}function O(){if(e.trigger==="click"&&!s()){A(),_();const d=!l();f(d)}}function p(d){!e.internalTrapFocus||d.key==="Escape"&&(A(),_(),f(!1))}function k(d){o.value=d}function X(){var d;return(d=r.value)===null||d===void 0?void 0:d.targetRef}function I(d){g=d}return V("NPopover",{getTriggerElement:X,handleKeydown:p,handleMouseEnter:M,handleMouseLeave:U,handleClickOutside:$,handleMouseMoveOutside:h,setBodyInstance:I,positionManuallyRef:b,isMountedRef:n,zIndexRef:Q(e,"zIndex"),extraClassRef:Q(e,"internalExtraClass"),internalRenderBodyRef:Q(e,"internalRenderBody")}),pe(()=>{a.value&&s()&&f(!1)}),{binderInstRef:r,positionManually:b,mergedShowConsideringDisabledProp:i,uncontrolledShow:o,mergedShowArrow:c,getMergedShow:l,setShow:k,handleClick:O,handleMouseEnter:M,handleMouseLeave:U,handleFocus:N,handleBlur:C,syncPosition:P}},render(){var e;const{positionManually:n,$slots:r}=this;let t,o=!1;if(!n&&(r.activator?t=Fe(r,"activator"):t=Fe(r,"trigger"),t)){t=pn(t),t=t.type===Bt?S("span",[t]):t;const a={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=t.type)===null||e===void 0)&&e.__popover__)o=!0,t.props||(t.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),t.props.internalSyncTargetWithParent=!0,t.props.internalInheritedEventHandlers?t.props.internalInheritedEventHandlers=[a,...t.props.internalInheritedEventHandlers]:t.props.internalInheritedEventHandlers=[a];else{const{internalInheritedEventHandlers:i}=this,s=[a,...i],l={onBlur:u=>{s.forEach(c=>{c.onBlur(u)})},onFocus:u=>{s.forEach(c=>{c.onFocus(u)})},onClick:u=>{s.forEach(c=>{c.onClick(u)})},onMouseenter:u=>{s.forEach(c=>{c.onMouseenter(u)})},onMouseleave:u=>{s.forEach(c=>{c.onMouseleave(u)})}};Rt(t,i?"nested":n?"manual":this.trigger,l)}}return S(kn,{ref:"binderInstRef",syncTarget:!o,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const a=this.getMergedShow();return[this.internalTrapFocus&&a?Ze(S("div",{style:{position:"fixed",inset:0}}),[[Wn,{enabled:a,zIndex:this.zIndex}]]):null,n?null:S(Un,null,{default:()=>t}),S(Mt,Kn(this.$props,Ct,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:a})),{default:()=>{var i,s;return(s=(i=this.$slots).default)===null||s===void 0?void 0:s.call(i)},header:()=>{var i,s;return(s=(i=this.$slots).header)===null||s===void 0?void 0:s.call(i)},footer:()=>{var i,s;return(s=(i=this.$slots).footer)===null||s===void 0?void 0:s.call(i)}})]}})}});export{Ht as _,It as p,Et as r};
